(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{L9NX:function(f,m,e){"use strict";e.r(m);var b=e("9og8"),O=e("fWQN"),P=e("mtLc"),h=e("yKVA"),D=e("879j"),y=e("WmNS"),c=e.n(y),M=e("q1tI"),p=e.n(M),W=e("95SA"),v=e("Ty5D"),j=e("9kvl"),E=e("s4NR"),C=e.n(E),d=e("nKUr"),L=e.n(d),U=function(a){Object(h.a)(s,a);var i=Object(D.a)(s);function s(){var o;Object(O.a)(this,s);for(var n=arguments.length,r=new Array(n),_=0;_<n;_++)r[_]=arguments[_];return o=i.call.apply(i,[this].concat(r)),o.state={isReady:!1},o}return Object(P.a)(s,[{key:"componentDidMount",value:function(){var o=Object(b.a)(c.a.mark(function r(){var _,u;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.setState({isReady:!0}),_=this.props.dispatch,!(window.location.href.indexOf("?code=")>-1)){t.next=8;break}return u=window.location.href.split("?code=")[1],t.next=6,_({type:"user/getGithubToken",payload:{code:u}});case 6:t.next=9;break;case 8:_&&_({type:"user/fetchCurrent"});case 9:case"end":return t.stop()}},r,this)}));function n(){return o.apply(this,arguments)}return n}()},{key:"render",value:function(){var n=this.state.isReady,r=this.props,_=r.children,u=r.loading,l=r.currentUser,t=l&&l.id,g=Object(E.stringify)({redirect:window.location.href});return!t&&u||!n?Object(d.jsx)(W.a,{}):!t&&window.location.pathname!=="/user/login"?Object(d.jsx)(v.c,{to:"/user/login?".concat(g)}):_}}]),s}(p.a.Component);m.default=Object(j.c)(function(a){var i=a.user,s=a.loading;return{currentUser:i.currentUser,loading:s.models.user}})(U)}}]);
