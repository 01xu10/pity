(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{L9NX:function(C,m,e){"use strict";e.r(m);var O=e("9og8"),p=e("fWQN"),b=e("mtLc"),h=e("yKVA"),D=e("879j"),M=e("WmNS"),c=e.n(M),P=e("q1tI"),v=e.n(P),j=e("95SA"),g=e("7AqN"),y=e("9kvl"),E=e("s4NR"),L=e.n(E),l=e("nKUr"),R=e.n(l),f=function(o){Object(h.a)(n,o);var u=Object(D.a)(n);function n(){var s;Object(p.a)(this,n);for(var a=arguments.length,r=new Array(a),_=0;_<a;_++)r[_]=arguments[_];return s=u.call.apply(u,[this].concat(r)),s.state={isReady:!1},s}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var s=Object(O.a)(c.a.mark(function r(){var _,i;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.setState({isReady:!0}),_=this.props.dispatch,!(window.location.href.indexOf("?code=")>-1)){t.next=8;break}return i=window.location.href.split("?code=")[1],t.next=6,_({type:"user/getGithubToken",payload:{code:i}});case 6:t.next=9;break;case 8:_&&_({type:"user/fetchCurrent"});case 9:case"end":return t.stop()}},r,this)}));function a(){return s.apply(this,arguments)}return a}()},{key:"render",value:function(){var a=this.state.isReady,r=this.props,_=r.children,i=r.loading,d=r.currentUser,t=d&&d.id,W=Object(E.stringify)({redirect:window.location.href});return!t&&i||!a?Object(l.jsx)(j.a,{}):!t&&window.location.pathname!=="/user/login"?Object(l.jsx)(g.c,{to:"/user/login?".concat(W)}):_}}]),n}(v.a.Component);m.default=Object(y.c)(function(o){var u=o.user,n=o.loading;return{currentUser:u.currentUser,loading:n.models.user}})(f)}}]);
