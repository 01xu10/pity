(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{L9NX:function(C,c,e){"use strict";e.r(c);var D=e("7Tti"),O=e("3bXm"),b=e("vtwr"),h=e("zh7a"),M=e("zp2r"),p=e("S0PR"),E=e.n(p),P=e("T9Mk"),v=e.n(P),f=e("Wbwa"),g=e("q5+0"),y=e("9kvl"),m=e("XuRK"),j=e.n(m),l=e("ikfJ"),L=e.n(l),W=function(s){Object(h.a)(n,s);var o=Object(M.a)(n);function n(){var a;Object(O.a)(this,n);for(var i=arguments.length,r=new Array(i),t=0;t<i;t++)r[t]=arguments[t];return a=o.call.apply(o,[this].concat(r)),a.state={isReady:!1},a}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var a=Object(D.a)(E.a.mark(function r(){var t,u;return E.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(this.setState({isReady:!0}),t=this.props.dispatch,!(window.location.href.indexOf("?code=")>-1)){_.next=8;break}return u=window.location.href.split("?code=")[1],_.next=6,t({type:"user/getGithubToken",payload:{code:u}});case 6:_.next=9;break;case 8:t&&t({type:"user/fetchCurrent"});case 9:case"end":return _.stop()}},r,this)}));function i(){return a.apply(this,arguments)}return i}()},{key:"render",value:function(){var i=this.state.isReady,r=this.props,t=r.children,u=r.loading,d=r.currentUser,_=d&&d.id,R=Object(m.stringify)({redirect:window.location.href});return!_&&u||!i?Object(l.jsx)(f.a,{}):!_&&window.location.pathname!=="/user/login"?Object(l.jsx)(g.a,{to:"/user/login?".concat(R)}):t}}]),n}(v.a.Component);c.default=Object(y.c)(function(s){var o=s.user,n=s.loading;return{currentUser:o.currentUser,loading:n.models.user}})(W)}}]);
